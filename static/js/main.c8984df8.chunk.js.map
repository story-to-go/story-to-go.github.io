{"version":3,"sources":["components/Icon/Icon.js","components/StoryView/StoryView.js","components/GoogleMapsService/GeoCodeService.js","components/StoryToGoMap/StoryToGoMap.js","entities/Story.js","components/AddStoryWindow/AddStoryWindow.js","components/OptionsDrawer/Options.js","components/About/AboutText.js","components/About/AboutModal.js","App.js","serviceWorker.js","index.js"],"names":["icon","L","Icon","iconUrl","iconRetinaUrl","iconAnchor","Point","popupAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","className","StoryView","React","Component","render","story","this","props","style","width","height","author","src","alt","float","vertical","marginTop","marginBottom","backgroundColor","title","year","address","iconPath","overflowY","imageURL","small","large","medium","maxWidth","maxHeight","url","playing","controls","content","split","map","item","key","tags","tag","index","API_KEY","GOOGLE_API","LANGUAGE","GeoCodeService","response","fetch","catch","error","Promise","reject","Error","json","console","log","status","lat","lng","latLng","encodeURI","handleUrl","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","constructor","super","toggleAddStory","onStorySelected","coords","latitude","longitude","state","zoom","stories","popUpOpen","loading","componentWillReceiveProps","nextProps","nextContext","setState","onContextMenu","event","fromLatLng","latlng","then","results","formatted_address","toggleBlur","open","onPopup","position","isGeolocationAvailable","isGeolocationEnabled","Map","center","whenReady","TileLayer","attribution","opacity","Marker","radius","Popup","onClick","onOpen","onClose","type","color","TEXT","WITH_MEDIA","Story","mediumType","AddStoryWindow","typing","inputValue","imageUrl","propsAddress","toggle","onSubmitStory","handleButtonClick","bind","handleInputChange","handleInputConfirm","input","focus","nextTags","handleTagRemove","filter","renderInput","inputRef","ref","size","value","onChange","onBlur","onPressEnter","appearance","onInputChanged","text","e","target","name","onYearChanged","submit","Math","floor","random","submitNewStory","fromAddress","geometry","location","checkImageUploadResult","resultEvent","info","secure_url","widget","window","cloudinary","createUploadWidget","cloudName","uploadPreset","result","showWidget","Header","Body","fluid","accepter","undefined","placeholder","defaultValue","max","min","rows","componentClass","closable","Options","exportToJson","objectData","navigator","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","JSON","stringify","a","document","createElement","download","href","encodeURIComponent","body","appendChild","click","removeChild","onUploadFile","files","f","i","reader","FileReader","onload","parse","localStorage","setItem","alert","reload","ex","readAsText","show","close","deleteStories","deleteAllStories","onHide","placement","id","accept","htmlFor","Footer","ABOUT_TEXT","AboutModal","toggleAbout","Title","App","showAddStory","goToMyLocation","clickedAddress","clickedLatLng","showStory","selectedStory","searchText","yearsFilter","start","end","showOptions","showAbout","toggleShowOptions","addStory","onStorySubmitted","push","componentDidMount","getItem","onSliderChange","navigationBar","bound1","bound2","marks","pullRight","Item","transform","top","data","flatMap","Addon","minWidth","range","tooltipVisible","clickAwayStoryView","getFilteredStories","hasOwnProperty","toString","includes","addStories","newStories","full","autoFocus","margin","showMyLocation","Boolean","hostname","match","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c8984df8.chunk.js","sourcesContent":["import L from 'leaflet';\nimport './Icon.css'\n\nconst icon = new L.Icon({\n    iconUrl: 'spots/grey/spot 8.svg',\n    iconRetinaUrl: 'spots/grey/spot 8.svg',\n    iconAnchor: new L.Point(20, 20),\n    popupAnchor:  new L.Point(0, 0),\n    shadowUrl: null,\n    shadowSize: null,\n    shadowAnchor: null,\n    iconSize: new L.Point(40, 40),\n     className: 'icon-my-location'\n});\n\n\n\n\nexport default icon;","import React from 'react'\n\nimport {Tag, TagGroup, Divider} from \"rsuite\";\nimport './StoryView.css'\nimport ReactPlayer from 'react-player'\nimport ModalImage from \"react-modal-image\";\n\n\nexport default class StoryView extends React.Component {\n\n    render() {\n        const story = this.props.story;\n        const mediaStyle = {maxWidth:'100%', maxHeight:'100%'};\n        const styles = {width: '450px'};\n        // width: '51px', height:'20px'\n        return (\n\n            <div className={\"textAlignment\"} style={styles}>\n                <br style={{height:1}}/>\n                <span className={'author'}> {story && `\\n` + story.author} </span>\n                <img src={'icons/follow-icon-05.svg'} alt={''} style={{float: \"left\", width: '51px', height:'35px'}}/>\n                <Divider className={'vert-divider'} vertical/>\n                <Divider className={'vert-divider'} vertical/>\n\n                <Divider style={{height: '2px', marginTop: '8px', marginBottom: '8px', backgroundColor:'var(--primary-color)'}}/>\n\n                <span className={'title'}>{story && <strong>{story.title}</strong>}</span>\n                <span className={'year'}>{story && story.year}</span>\n\n                <Divider className={'vert-divider bottom'} vertical/>\n                <Divider className={'vert-divider bottom'} vertical/>\n\n                {story && story.address && <h5 className={\"address\"}>\n                    <img src={story.iconPath} style={{width:'32px', height:'32px'}} alt={''}/>\n                    {story.address}\n                </h5>}\n                <p className={'text'} style={{height: '200px',  overflowY:'scroll'}}>\n                    {story.imageURL && <ModalImage  small={story.imageURL} large={story.imageURL} alt={story.title}/>}\n\n                    {story.medium && <ReactPlayer style={mediaStyle} url={story.medium} playing controls={true}/>}\n                    {story && story.content.split('\\n').map(function(item, key) {\n                        return (\n                            <span key={key}>\n                                {item}\n                                <br/>\n                            </span>\n                        )\n                    })}\n\n                </p>\n\n\n                <Divider  className={'divider'}/>\n\n                <TagGroup>\n                        {story && story.tags.map((tag, index) =>\n                            <span key={index}>\n                            <Tag className={'fill-color'}> {tag} </Tag>\n                                &nbsp;\n                            </span>\n                        )}\n                </TagGroup>\n            </div>\n\n        );\n    }\n}\n//<img style={mediaStyle} src={story.imageURL} alt={'enable pictures on your browser'}/>","\nexport let API_KEY = \"AIzaSyB25F-pebVd28r7D23iqMuT7Iwk57kOO38\\n\";\nexport const GOOGLE_API = \"https://maps.google.com/maps/api/geocode/json\";\nexport let LANGUAGE = 'iw';\n\nexport default class GeoCodeService {\n   static async handleUrl(url) {\n        const response = await fetch(url).catch(error =>\n            Promise.reject(new Error(\"Error while fetching data\"))\n        );\n\n        const json = await response.json().catch(() => {\n            console.log(\"Error parsing server response\");\n            return Promise.reject(new Error(\"Error parsing server response\"));\n        });\n\n        if (json.status === \"OK\") {\n            console.log(json);\n            return json;\n        }\n        console.log(`Server returned status code ${json.status}`, true);\n        return Promise.reject(\n            new Error(`Server returned status code ${json.status}`)\n        );\n    }\n\n   static async fromLatLng(lat, lng) {\n        if (!lat || !lng) {\n            console.log(\"Provided coordinates are invalid\", true);\n            return Promise.reject(new Error(\"Provided coordinates are invalid\"));\n        }\n\n        const latLng = `${lat},${lng}`;\n        let url = `${GOOGLE_API}?latlng=${encodeURI(latLng)}`;\n\n        url += `&key=${API_KEY}&language=${LANGUAGE}`;\n\n        return this.handleUrl(url);\n    }\n\n    static async fromAddress(address) {\n        if (!address) {\n            console.log(\"Provided address is invalid\", true);\n            return Promise.reject(new Error(\"Provided address is invalid\"));\n        }\n\n        let url = `${GOOGLE_API}?address=${encodeURI(address)}`;\n\n        if (API_KEY) {\n            url += `&key=${API_KEY}`;\n        }\n\n        return this.handleUrl(url);\n    }\n}","import React from 'react'\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet'\nimport { geolocated } from \"react-geolocated\";\nimport icon from '../Icon/Icon';\nimport './StoryToGoMap.css'\nimport L from 'leaflet';\nimport StoryView from \"../StoryView/StoryView\";\nimport Loader from 'react-loader-spinner'\nimport GeoCodeService from '../GoogleMapsService/GeoCodeService';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\n\nclass StoryToGoMap extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n\n        let lat = 31.9;\n        let lng = 34.6;\n\n        this.toggleAddStory = this.props.toggleAddStory;\n        this.onStorySelected= this.props.onStorySelected;\n\n        if(this.props.coords){\n            lat = this.props.coords.latitude;\n            lng = this.props.coords.longitude;\n        }\n        this.state = {\n            lat: lat,\n            lng: lng,\n            zoom: 17,\n            stories: this.props.stories,\n            popUpOpen: false,\n            loading: false\n        };\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if(nextProps.coords != null) {\n            let lat = nextProps.coords.latitude;\n            let lng = nextProps.coords.longitude;\n            let zoom = 17;\n            let stories = nextProps.stories;\n            this.setState({lat, lng, zoom, stories});\n        }\n    }\n\n    onContextMenu(event){\n        //event.latlng;\n        GeoCodeService.fromLatLng(event.latlng.lat, event.latlng.lng).then(\n            response => {\n                const address = response.results[0].formatted_address;\n                this.toggleAddStory(address, event.latlng);\n                // console.log(address);\n            },\n            error => {\n                console.error(error);\n            }\n        );\n\n    }\n\n    toggleBlur(){\n        let open = !this.state.popUpOpen;\n        this.setState({popUpOpen: open});\n    }\n    onPopup(story)\n    {\n        this.toggleBlur();\n        this.onStorySelected(story);\n    }\n\n    render() {\n        const position = [this.state.lat, this.state.lng];\n        // let mapStyle = this.state.popUpOpen ? { width:'100%', height:'100%', filter: 'blur(4px)',\n        //          } : {};\n\n        const wider = (story) => ' wider';\n        return(\n            !this.props.isGeolocationAvailable ? (\n                <div>Your browser does not support Geolocation</div>\n            ) : !this.props.isGeolocationEnabled ? (\n                <div>Geolocation is not enabled</div>\n            ) :  this.props.coords && !this.state.loading ? ( //this.props.coords\n\n            <Map center={position} zoom={this.state.zoom}\n                 className={\"leaflet-container\"}\n                 onContextMenu={(event) => this.onContextMenu(event)}\n                 // onViewportChanged={() => console.log(this.state.zoom)}\n                 whenReady = {() => this.setState({loading: false})}\n            >\n\n                <TileLayer className={'tile'}\n                    url= \"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.png\"\n                    attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n                           opacity={this.state.popUpOpen ? 0.2 : 1}\n                />\n                <Marker\n                    position={position} radius={20} icon={icon}>\n                    <Popup><b>אתה נמצא כאן</b></Popup>\n                </Marker>\n\n                {this.state.stories.map((story, index) =>\n                    <Marker key={index} position={story.position} icon={new L.Icon(story.icon)}\n                            onClick={() => this.onPopup(story)}\n                    >\n                        <Popup className={'marker' + wider(story)} onOpen={() =>  this.toggleBlur()} onClose={() =>  this.toggleBlur()}>\n                            <StoryView className={wider(story)} story={story}/>\n                        </Popup>\n                    </Marker>\n                )}\n            </Map>\n\n        ): (\n            <div className={'loaderContainer'}>\n                <div className={'loader'}>\n                <Loader  type=\"RevolvingDot\"\n                        color=\"#2D8FC7\"\n                        height={100}\n                        width={100}\n                />\n                <h2>ממתין לסיפורים...</h2>\n                </div>\n            </div>\n\n            ));\n    }\n}\n//{story.title}\nexport default geolocated({\n    positionOptions: {\n        enableHighAccuracy: true,\n    },\n    userDecisionTimeout: 50000,\n})(StoryToGoMap);\n\n","import L from 'leaflet';\nimport '../components/Icon/Icon.css'\nexport const TEXT = 'text';\nexport const WITH_MEDIA = 'with-media';\nexport default class Story {\n    // title;\n    // author;\n    // year;\n    // medium;\n    // content;\n    // tags;\n    // address;\n    // position;\n\n    constructor(title, author, year, medium, content, tags, address, position, iconPath, imageURL){\n        this.title = title;\n        this.author = author;\n        this.year = year;\n        this.medium = medium;\n        this.content = content;\n        this.tags = tags;\n        this.address = address;\n        this.position = position;\n        this.mediumType = TEXT;\n        this.iconPath = iconPath;\n        this.imageURL = imageURL;\n\n        if((medium && medium !== '') || (imageURL && imageURL !== ''))\n        {\n            this.mediumType = WITH_MEDIA\n        }\n        this.icon = {\n            iconUrl: iconPath,\n            iconRetinaUrl: iconPath,\n            iconAnchor: new L.Point(20, 20),\n            popupAnchor:  new L.Point(0, 0),\n            shadowUrl: null,\n            shadowSize: null,\n            shadowAnchor: null,\n            iconSize: new L.Point(40, 40),\n            className: 'icon-'+ this.mediumType\n        };\n\n    }\n}","import React from 'react'\nimport './AddStoryWindow.css'\nimport {Modal, Form, FormGroup, Icon, IconButton, Input, FormControl,ControlLabel, ButtonToolbar,\n    Button, InputNumber, Tag, TagGroup} from \"rsuite\";\nimport Story from '../../entities/Story'\nimport GeoCodeService from '../GoogleMapsService/GeoCodeService'\nexport default class AddStoryWindow extends React.Component {\n    constructor(props) {\n        super(props);\n\n\n        this.state = {\n            typing: false,\n            inputValue: '',\n            author:'',\n            title:'',\n            story:'',\n            medium:'',\n            year:2019,\n            tags: [],\n            address:this.props.address,\n            latlng: this.props.latlng,\n            imageUrl: ''\n        };\n\n        this.propsAddress = this.props.address;\n        this.toggle = this.props.toggle;\n        this.onSubmitStory = this.props.onSubmitStory;\n        this.handleButtonClick = this.handleButtonClick.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleInputConfirm = this.handleInputConfirm.bind(this);\n    }\n    handleButtonClick() {\n        this.setState(\n            {\n                typing: true\n            },\n            () => {\n                this.input.focus();\n            }\n        );\n    }\n    handleInputChange(inputValue) {\n        this.setState({ inputValue });\n    }\n    handleInputConfirm() {\n        const { inputValue, tags } = this.state;\n        const nextTags = inputValue ? [...tags, inputValue] : tags;\n        this.setState({\n            tags: nextTags,\n            typing: false,\n            inputValue: ''\n        });\n    }\n    handleTagRemove(tag) {\n        const { tags } = this.state;\n        const nextTags = tags.filter(item => item !== tag);\n        this.setState({\n            tags: nextTags\n        });\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        let address = nextProps.address;\n        let latlng = nextProps.latlng;\n        this.setState({address, latlng});\n    }\n\n    renderInput() {\n        const { typing, inputValue } = this.state;\n\n        if (typing) {\n            return (\n                <Input\n                    className=\"tag-input\"\n                    inputRef={ref => {\n                        this.input = ref;\n                    }}\n                    size=\"xs\"\n                    style={{ width: 70 }}\n                    value={inputValue}\n                    onChange={this.handleInputChange}\n                    onBlur={this.handleInputConfirm}\n                    onPressEnter={this.handleInputConfirm}\n                />\n            );\n        }\n\n        return (\n            <IconButton\n                className=\"tag-add-btn\"\n                onClick={this.handleButtonClick}\n                icon={<Icon icon=\"plus\" />}\n                appearance=\"ghost\"\n                size=\"xs\"\n            />\n        );\n    }\n\n    onInputChanged(text, e){\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    onYearChanged(year){\n        this.setState({year});\n    }\n\n    submit(latlng)\n    {\n        let color = (this.state.medium && this.state.medium !== '') || (this.state.imageUrl && this.state.imageUrl !== '')  ? 'pink' : 'yellow';\n        let max = 8, min = 1;\n        let shapeNumber = Math.floor(Math.random() * (+max - +min)) + +min;\n        let iconPath = 'spots/'+ color +'/spot '+ shapeNumber+'.svg';\n\n        let story = new Story(this.state.title, this.state.author, this.state.year, this.state.medium, this.state.story,\n            //tags,         address,            position           icon\n            this.state.tags, this.state.address, latlng, iconPath, this.state.imageUrl);\n        this.onSubmitStory(story);\n        console.log(this.state.author, this.state.title, this.state.address, this.state.medium, this.state.year, latlng);\n    }\n\n    submitNewStory(){\n\n        if(this.props.latlng) {\n            this.submit(this.state.latlng);\n        }\n        else{\n            GeoCodeService.fromAddress(this.state.address)\n                .then(response => {\n                        console.log(this.state.address);\n                        this.submit(response.results[0].geometry.location);\n                    },\n                    error => {\n                        console.error(error);\n                    });\n        }\n    }\n\n    checkImageUploadResult(resultEvent){\n        if(resultEvent.event === 'success'){\n            this.setState({imageUrl: resultEvent.info.secure_url});\n        }\n    }\n\n    render() {\n        const { tags } = this.state;\n        const propsAddress = this.propsAddress;\n\n        let onResult = (error, result) => this.checkImageUploadResult(result);\n        let widget = window.cloudinary.createUploadWidget({\n            cloudName:'roiedanino',\n            uploadPreset: 'aah4gzsx'},\n            onResult\n        );\n        this.showWidget = () => widget.open();\n        return (\n            <div className={'withFont'} style={{width: '600px'}}>\n                <Modal.Header>\n\n                        <h1> הוסיפו סיפור</h1>\n                        {<h5 className={\"address\"}>\n                            <img src={'spots/blue/spot 5.svg'} style={{width:'30px', height:'30px'}}\n                                alt={'location logo'}\n                            />\n                            {this.state.address}\n                        </h5>}\n\n\n                </Modal.Header>\n\n                <Modal.Body >\n                    <Form fluid>\n                        <FormGroup>\n                            <ControlLabel className={\"formLabel\"}>מחבר</ControlLabel>\n                            <FormControl accepter={undefined} name=\"author\" value={this.state.author} onChange={this.onInputChanged.bind(this)}/>\n                        </FormGroup>\n                        {!propsAddress &&\n                            <FormGroup>\n                                <ControlLabel className={\"formLabel\"}>כתובת</ControlLabel>\n                                <FormControl accepter={undefined} name=\"address\" value={this.state.address}\n                                             placeholder={\"תל אביב בן יהודה 126\"}\n                                             onChange={this.onInputChanged.bind(this)}/>\n                            </FormGroup>\n                        }\n                        <FormGroup>\n                            <ControlLabel className={\"formLabel\"}>כותרת</ControlLabel>\n                            <FormControl accepter={undefined} name=\"title\" value={this.state.title} onChange={this.onInputChanged.bind(this)}/>\n                        </FormGroup>\n                        <FormGroup className={\"yearInput\"}>\n                            <ControlLabel className={\"formLabel\"} >שנה</ControlLabel>\n                            <InputNumber  name={\"year\"} defaultValue={2019} max={2019} min={1900}\n                                          value={this.state.year}\n                                          onChange={this.onYearChanged.bind(this)}\n                            />\n                        </FormGroup>\n                        <FormGroup>\n                            <ControlLabel className={\"formLabel\"} >תמונה</ControlLabel>\n                            <Button onClick={this.showWidget.bind(this)} >העלה תמונה</Button>\n                        </FormGroup>\n                        <FormGroup>\n                            <ControlLabel className={\"formLabel\"} >קישור לסרטון</ControlLabel>\n                            <Input accepter={undefined} name=\"medium\" value={this.state.medium}\n                                         placeholder='https://www.youtube.com/watch?v=kn9ryAm3kaI'\n\n                                         onChange={this.onInputChanged.bind(this)}/>\n                        </FormGroup>\n\n\n                        <FormGroup>\n                            <ControlLabel className={\"formLabel\"} >הסיפור שלך</ControlLabel>\n                            <FormControl accepter={undefined} name=\"story\" rows={5} componentClass=\"textarea\" value={this.state.story}\n                                         onChange={this.onInputChanged.bind(this)}/>\n                        </FormGroup>\n                        <FormGroup>\n                            <ControlLabel className={\"formLabel\"} >&nbsp;# תגיות:  &nbsp;</ControlLabel>\n                            <TagGroup>\n                                {tags.map((item, index) => (\n                                    <span key={index}>\n                                        <Tag\n                                            className={'fill-color'}\n                                            closable\n                                            onClose={() => {\n                                                this.handleTagRemove(item);\n                                            }}\n                                        >\n                                            {item}\n                                        </Tag>\n                                        &nbsp;\n                                    </span>\n                                ))}\n                                {this.renderInput()}\n                            </TagGroup>\n                        </FormGroup>\n                        <FormGroup>\n                            <ButtonToolbar className={\"formLabel\"}>\n                                <Button appearance=\"default\" onClick={() => this.toggle()} >חזור</Button>\n                                <Button className={'fill-color'} appearance=\"primary\" onClick={() => this.submitNewStory()}>הוסף</Button>\n                            </ButtonToolbar>\n                        </FormGroup>\n                    </Form>\n                </Modal.Body>\n            </div>\n        );\n    }\n}\n/*\n\nunsigned uploads: aah4gzsx\n\ncloudName: roiedanino\n\nAPI:\nkey: 759878166947577\nsecret: oHRfPYGXIGxrMtUxIvImwClf3bA\n\nEnvironment variable:\ncloudinary://759878166947577:oHRfPYGXIGxrMtUxIvImwClf3bA@roiedanino/\n\n\n<input name=\"file\" type=\"file\"\n   class=\"file-upload\" data-cloudinary-field=\"image_id\"\n   data-form-data=\"{ 'transformation': {'crop':'limit','tags':'samples','width':3000,'height':2000}}\"/>\n */\n/*\n <CloudinaryContext cloudName=\"roiedanino\">\n    <Image publicId=\"sample\" format=\"jpg\">\n        <Transformation crop=\"fill\" gravity=\"faces\" width=\"300\" height=\"200\"/>\n    </Image>\n</CloudinaryContext>\n */","import React from 'react'\nimport {Drawer, Button, Divider} from \"rsuite\";\nimport './Options.css'\nexport default class Options extends React.Component {\n\n\n\n   exportToJson(objectData) {\n        let filename = \"storyToGo.json\";\n        let contentType = \"application/json;charset=utf-8;\";\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n            let blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(objectData)))], { type: contentType });\n            navigator.msSaveOrOpenBlob(blob, filename);\n        } else {\n            let a = document.createElement('a');\n            a.download = filename;\n            a.href = 'data:' + contentType + ',' + encodeURIComponent(JSON.stringify(objectData));\n            a.target = '_blank';\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n        }\n    }\n\n    onUploadFile(event){\n        let json;\n        let files = event.target.files; // FileList object\n        // files is a FileList of File objects. List some properties.\n        for (let i = 0, f; f = files[i]; i++) {\n            let reader = new FileReader();\n\n            // Closure to capture the file information.\n            reader.onload = ((theFile) => {\n                return (e) => {\n                    try {\n                        json = JSON.parse(e.target.result);\n                        console.log(JSON.stringify(json));\n                        localStorage.setItem('stories', JSON.stringify(json));\n\n                        alert('הסיפורים נטענו בהצלחה!');\n                        window.location.reload();\n                    } catch (ex) {\n                        alert('שגיאה בעת העלאת הקובץ...' + ex);\n                    }\n                }\n            })(f);\n            reader.readAsText(f);\n        }\n\n    }\n\n\n    render() {\n\n        let show = this.props.show;\n        let close = this.props.close;\n        let stories = this.props.stories;\n        let deleteStories = this.props.deleteAllStories;\n        return (\n            <Drawer\n                size={'xs'}\n                show={show}\n                onHide={close}\n                placement={'left'}\n            >\n                <Drawer.Header>\n                    <h1 className={'title header'}>אפשרויות</h1>\n                </Drawer.Header>\n                <Drawer.Body>\n                    <h2 className={' header'}>שמירת הסיפורים</h2>\n                    <Button onClick={() => this.exportToJson(stories)} className={\"button\"}>שמירה כקובץ</Button>\n                    <Divider className={'options-divider'}/>\n                    <h2 className={' header'}>טעינת הסיפורים</h2>\n\n                    <input className={'inputFile'} type=\"file\" id=\"file\" name=\"file\" accept=\".json\" onChange={this.onUploadFile.bind(this)}/>\n                    <label className={'button'} htmlFor=\"file\">טעינה מקובץ</label>\n\n                    {/*<Uploader action=\"//jsonplaceholder.typicode.com/posts/\" />*/}\n                    <Divider className={'options-divider'}/>\n\n                    <h2 className={' header'}>מחיקת כל הסיפורים</h2>\n\n                    <Button className={'button'} onClick={() => deleteStories()}>מחק</Button>\n\n                    <Divider className={'options-divider'}/>\n\n                </Drawer.Body>\n                <Drawer.Footer style={{float:'left'}}>\n\n                    <Button onClick={close} className={\"button\"} appearance=\"primary\">\n                        חזרה\n                    </Button>\n\n                </Drawer.Footer>\n            </Drawer>);\n    }\n}","\nconst ABOUT_TEXT = \"לורם איפסום דולור סיט אמט, קונסקטורר אדיפיסינג אלית קונסקטורר אדיפיסינג אלית. סת אלמנקום ניסי נון ניבאה. דס איאקוליס וולופטה דיאם. וסטיבולום אט דולור, קראס אגת לקטוס וואל אאוגו וסטיבולום סוליסי טידום בעליק. קונדימנטום קורוס בליקרה, נונסטי קלובר בריקנה סטום, לפריקך תצטריק לרטי.\\n\" +\n    \"\\n\" +\n    \"ושבעגט ליבם סולגק. בראיט ולחת צורק מונחף, בגורמי מגמש. תרבנך וסתעד לכנו סתשם השמה - לתכי מורגם בורק? לתיג ישבעס.\\n\" +\n    \"\\n\" +\n    \"הועניב היושבב שערש שמחויט - שלושע ותלברו חשלו שעותלשך וחאית נובש ערששף. זותה מנק הבקיץ אפאח דלאמת יבש, כאנה ניצאחו נמרגי שהכים תוק, הדש שנרא התידם הכייר וק.\\n\" +\n    \"\\n\" +\n    \"קולורס מונפרד אדנדום סילקוף, מרגשי ומרגשח. עמחליף קונדימנטום קורוס בליקרה, נונסטי קלובר בריקנה סטום, לפריקך תצטריק לרטי.\\n\" +\n    \"\\n\" +\n    \"קוואזי במר מודוף. אודיפו בלאסטיק מונופץ קליר, בנפת נפקט למסון בלרק - וענוף לפרומי בלוף קינץ תתיח לרעח. לת צשחמי צש בליא, מנסוטו צמלח לביקו ננבי, צמוקו בלוקריה שיצמה ברורק.\\n\" +\n    \"\\n\" +\n    \"מוסן מנת. להאמית קרהשק סכעיט דז מא, מנכם למטכין נשואי מנורך. נולום ארווס סאפיאן - פוסיליס קוויס, אקווזמן קוואזי במר מודוף. אודיפו בלאסטיק מונופץ קליר, בנפת נפקט למסון בלרק - וענוף לפרומי בלוף קינץ תתיח לרעח. לת צשחמי נולום ארווס סאפיאן - פוסיליס קוויס, אקווזמן קולהע צופעט למרקוח איבן איף, ברומץ כלרשט מיחוצים. קלאצי צש בליא, מנסוטו צמלח לביקו ננבי, צמוקו בלוקריה שיצמה ברורק. גולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, קולהע צופעט למרקוח איבן איף, ברומץ כלרשט מיחוצים. קלאצי סחטיר בלובק. תצטנפל בלינדו למרקל אס לכימפו, דול, צוט ומעיוט - לפתיעם ברשג - ולתיעם גדדיש. קוויז דומור ליאמום בלינך רוגצה. לפמעט\\n\" +\n    \"\\n\" +\n    \"להאמית קרהשק סכעיט דז מא, מנכם למטכין נשואי מנורךגולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, ושבעגט. גולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, ושבעגט ליבם סולגק. בראיט ולחת צורק מונחף, בגורמי מגמש. תרבנך וסתעד לכנו סתשם השמה - לתכי מורגם בורק? לתיג ישבעס.\\nלורם איפסום דולור סיט אמט, קונסקטורר אדיפיסינג אלית קונסקטורר אדיפיסינג אלית. סת אלמנקום ניסי נון ניבאה. דס איאקוליס וולופטה דיאם. וסטיבולום אט דולור, קראס אגת לקטוס וואל אאוגו וסטיבולום סוליסי טידום בעליק. קונדימנטום קורוס בליקרה, נונסטי קלובר בריקנה סטום, לפריקך תצטריק לרטי.\\n\" +\n    \"\\n\" +\n    \"ושבעגט ליבם סולגק. בראיט ולחת צורק מונחף, בגורמי מגמש. תרבנך וסתעד לכנו סתשם השמה - לתכי מורגם בורק? לתיג ישבעס.\\n\" +\n    \"\\n\" +\n    \"הועניב היושבב שערש שמחויט - שלושע ותלברו חשלו שעותלשך וחאית נובש ערששף. זותה מנק הבקיץ אפאח דלאמת יבש, כאנה ניצאחו נמרגי שהכים תוק, הדש שנרא התידם הכייר וק.\\n\" +\n    \"\\n\" +\n    \"קולורס מונפרד אדנדום סילקוף, מרגשי ומרגשח. עמחליף קונדימנטום קורוס בליקרה, נונסטי קלובר בריקנה סטום, לפריקך תצטריק לרטי.\\n\" +\n    \"\\n\" +\n    \"קוואזי במר מודוף. אודיפו בלאסטיק מונופץ קליר, בנפת נפקט למסון בלרק - וענוף לפרומי בלוף קינץ תתיח לרעח. לת צשחמי צש בליא, מנסוטו צמלח לביקו ננבי, צמוקו בלוקריה שיצמה ברורק.\\n\" +\n    \"\\n\" +\n    \"מוסן מנת. להאמית קרהשק סכעיט דז מא, מנכם למטכין נשואי מנורך. נולום ארווס סאפיאן - פוסיליס קוויס, אקווזמן קוואזי במר מודוף. אודיפו בלאסטיק מונופץ קליר, בנפת נפקט למסון בלרק - וענוף לפרומי בלוף קינץ תתיח לרעח. לת צשחמי נולום ארווס סאפיאן - פוסיליס קוויס, אקווזמן קולהע צופעט למרקוח איבן איף, ברומץ כלרשט מיחוצים. קלאצי צש בליא, מנסוטו צמלח לביקו ננבי, צמוקו בלוקריה שיצמה ברורק. גולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, קולהע צופעט למרקוח איבן איף, ברומץ כלרשט מיחוצים. קלאצי סחטיר בלובק. תצטנפל בלינדו למרקל אס לכימפו, דול, צוט ומעיוט - לפתיעם ברשג - ולתיעם גדדיש. קוויז דומור ליאמום בלינך רוגצה. לפמעט\\n\" +\n    \"\\n\" +\n    \"להאמית קרהשק סכעיט דז מא, מנכם למטכין נשואי מנורךגולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, ושבעגט. גולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, ושבעגט ליבם סולגק. בראיט ולחת צורק מונחף, בגורמי מגמש. תרבנך וסתעד לכנו סתשם השמה - לתכי מורגם בורק? לתיג ישבעס.\\nלורם איפסום דולור סיט אמט, קונסקטורר אדיפיסינג אלית קונסקטורר אדיפיסינג אלית. סת אלמנקום ניסי נון ניבאה. דס איאקוליס וולופטה דיאם. וסטיבולום אט דולור, קראס אגת לקטוס וואל אאוגו וסטיבולום סוליסי טידום בעליק. קונדימנטום קורוס בליקרה, נונסטי קלובר בריקנה סטום, לפריקך תצטריק לרטי.\\n\" +\n    \"\\n\" +\n    \"ושבעגט ליבם סולגק. בראיט ולחת צורק מונחף, בגורמי מגמש. תרבנך וסתעד לכנו סתשם השמה - לתכי מורגם בורק? לתיג ישבעס.\\n\" +\n    \"\\n\" +\n    \"הועניב היושבב שערש שמחויט - שלושע ותלברו חשלו שעותלשך וחאית נובש ערששף. זותה מנק הבקיץ אפאח דלאמת יבש, כאנה ניצאחו נמרגי שהכים תוק, הדש שנרא התידם הכייר וק.\\n\" +\n    \"\\n\" +\n    \"קולורס מונפרד אדנדום סילקוף, מרגשי ומרגשח. עמחליף קונדימנטום קורוס בליקרה, נונסטי קלובר בריקנה סטום, לפריקך תצטריק לרטי.\\n\" +\n    \"\\n\" +\n    \"קוואזי במר מודוף. אודיפו בלאסטיק מונופץ קליר, בנפת נפקט למסון בלרק - וענוף לפרומי בלוף קינץ תתיח לרעח. לת צשחמי צש בליא, מנסוטו צמלח לביקו ננבי, צמוקו בלוקריה שיצמה ברורק.\\n\" +\n    \"\\n\" +\n    \"מוסן מנת. להאמית קרהשק סכעיט דז מא, מנכם למטכין נשואי מנורך. נולום ארווס סאפיאן - פוסיליס קוויס, אקווזמן קוואזי במר מודוף. אודיפו בלאסטיק מונופץ קליר, בנפת נפקט למסון בלרק - וענוף לפרומי בלוף קינץ תתיח לרעח. לת צשחמי נולום ארווס סאפיאן - פוסיליס קוויס, אקווזמן קולהע צופעט למרקוח איבן איף, ברומץ כלרשט מיחוצים. קלאצי צש בליא, מנסוטו צמלח לביקו ננבי, צמוקו בלוקריה שיצמה ברורק. גולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, קולהע צופעט למרקוח איבן איף, ברומץ כלרשט מיחוצים. קלאצי סחטיר בלובק. תצטנפל בלינדו למרקל אס לכימפו, דול, צוט ומעיוט - לפתיעם ברשג - ולתיעם גדדיש. קוויז דומור ליאמום בלינך רוגצה. לפמעט\\n\" +\n    \"\\n\" +\n    \"להאמית קרהשק סכעיט דז מא, מנכם למטכין נשואי מנורךגולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, ושבעגט. גולר מונפרר סוברט לורם שבצק יהול, לכנוץ בעריר גק ליץ, ושבעגט ליבם סולגק. בראיט ולחת צורק מונחף, בגורמי מגמש.\" +\n    \" תרבנך וסתעד לכנו סתשם השמה - לתכי מורגם בורק? לתיג ישבעס.\\n\";\nexport default ABOUT_TEXT;","import React from 'react'\nimport {Modal, Button} from \"rsuite\";\nimport ABOUT_TEXT from './AboutText'\nimport './AboutModal.css'\n\nexport default class AboutModal extends React.Component {\n\n    render() {\n        const show = this.props.show;\n        let onHide = this.props.toggleAbout;\n\n        return (\n                <span>\n                <Modal.Header>\n                    <Modal.Title className={\"aboutTitle\"}>אודות</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <p className={'aboutText'}>\n                        {ABOUT_TEXT.split('\\n').map(function(item, key) {\n                            return (\n                                <span key={key}>\n                                {item}\n                                    <br/>\n                            </span>\n                            )\n                        })}\n                    </p>\n                </Modal.Body>\n                <Modal.Footer>\n                    <p>\n                        (c) כל הזכויות שמורות למיכל אריאלי\n                    </p>\n                </Modal.Footer>\n                </span>\n        );\n    }\n}","import React from 'react';\nimport './App.css';\nimport { Navbar, Nav, Modal, Icon, AutoComplete, InputGroup, Divider} from 'rsuite';\nimport StoryToGoMap from \"./components/StoryToGoMap/StoryToGoMap\";\nimport AddStoryWindow from \"./components/AddStoryWindow/AddStoryWindow\";\nimport {Slider} from 'antd'\n\nimport 'antd/es/slider/style/css';\nimport Options from \"./components/OptionsDrawer/Options\";\nimport AboutModal from \"./components/About/AboutModal\"; // for css\nclass App extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            showAddStory: false,\n            goToMyLocation: false,\n            clickedAddress: null,\n            clickedLatLng:null,\n            stories: [],\n            showStory: false,\n            selectedStory: null,\n            searchText:'',\n            yearsFilter: {\n                start: 1900,\n                end:2019\n            },\n            showOptions:false,\n            showAbout:false\n        };\n    }\n\n\n    toggleAddStory(){\n        this.setState({showStory: false, showAddStory: !this.state.showAddStory});\n    }\n\n    toggleShowOptions(){\n        this.setState({showOptions: !this.state.showOptions});\n    }\n\n    toggleAbout(){\n        this.setState({showAbout: !this.state.showAbout});\n    }\n\n    addStory(address, latlng){\n        this.setState({clickedAddress: address, clickedLatLng: latlng});\n        this.toggleAddStory();\n    }\n\n    onStorySubmitted(story){\n        let stories = this.state.stories;\n        stories.push(story);\n\n        let showAddStory = !this.state.showAddStory;\n        this.setState({stories, showAddStory});\n        localStorage.setItem('stories', JSON.stringify(this.state.stories));\n\n    }\n\n    onInputChanged(text, e){\n        this.setState({ [e.target.name]: e.target.value })\n    }\n\n    componentDidMount() {\n        let stories = JSON.parse(localStorage.getItem('stories')) || [];\n        if(stories == null)\n            stories = [];\n        this.setState({stories});\n    }\n\n    onSliderChange(value){\n        let start = value[0];\n        let end = value[1];\n\n        if(start > end){\n            start = value[1];\n            end = value[0];\n        }\n\n        this.setState({ yearsFilter: {start, end} });\n    }\n\n    navigationBar(){\n        const styles = {\n            width: 300,\n            top: '50%',\n            transform: 'translateY(-25%)',\n\n        };\n        const bound1 = `${this.state.yearsFilter.start}`;\n        const bound2 = `${this.state.yearsFilter.end}`;\n        const marks = {\n            [bound1]: bound1,\n            [bound2]: bound2\n\n        };\n        return (  <Navbar style={{backgroundColor: 'white'}}>\n                <Navbar.Header>\n\n                </Navbar.Header>\n                <Navbar.Body >\n                    <Nav className=\"navItem addStory\" pullRight>\n                        <a href=\"/\" className=\"navbar-brand logo brandLogo\">\n                            <img src=\"logo/logo.png\" alt={'logo'} style={{width:'378px', height:'46px'}}/>\n                        </a>\n                        <Nav.Item onClick={() => this.toggleAddStory()}> + הוסיפו סיפור</Nav.Item>\n                        <Nav.Item onClick={() => this.toggleAbout()}>אודות</Nav.Item>\n\n                    </Nav>\n\n                    <Nav >\n                        <Nav.Item className=\"navItem\" onClick={this.toggleShowOptions.bind(this)}\n                                  icon={<img src={\"icons/blue-lines-06.svg\"} alt={''}\n                                             style={{height:'40px',transform:'translateY(-20%)'}}/>}>\n                        </Nav.Item>\n                        <Nav.Item>\n                            <InputGroup style={styles}>\n                                <AutoComplete placeholder={\"מחבר / מקום / תגיות / מדיום\"} name={\"searchText\"}\n                                              data={this.state.stories && this.state.stories.flatMap(story => story && story.title)}\n                                              onChange={this.onInputChanged.bind(this)}/>\n                                <InputGroup.Addon>\n                                    <Icon className=\"navItem\" icon=\"search\" />\n                                </InputGroup.Addon>\n                            </InputGroup>\n                        </Nav.Item>\n                        <Nav.Item  style={{minWidth: '250px'}}>\n                            <Slider\n                                className={'yearSlider'}\n                                marks={marks}\n                                range\n                                min={1900}\n                                max={2019}\n                                defaultValue={[1900, 2019]}\n                                value={[this.state.yearsFilter.start, this.state.yearsFilter.end]}\n                                onChange={this.onSliderChange.bind(this)}\n                                style={{top:'50%', transform:'translateY(-120%)', width: '200px'}}\n                                tooltipVisible={false}\n                            />\n                        </Nav.Item>\n                    </Nav>\n\n\n                </Navbar.Body>\n\n            </Navbar>\n\n        )\n    }\n\n    onStorySelected(story){\n        this.setState({\n            showStory: true,\n            selectedStory: story\n        });\n    }\n\n    clickAwayStoryView(){\n        this.setState({\n            showStory: false,\n            selectedStory: null\n        });\n    }\n\n    getFilteredStories(){\n\n        if(!this.state.stories)\n            return [];\n\n        return this.state.stories.filter(story => {\n            let key;\n            let result = false;\n            for (key in story) {\n                if (story.hasOwnProperty(key) && story[key].toString().includes(this.state.searchText)\n                    && story.year >= this.state.yearsFilter.start && story.year <= this.state.yearsFilter.end\n                ) {\n                    result = true;\n                    break;\n                }\n            }\n\n            return result;\n        });\n    }\n\n    addStories(newStories) {\n        let stories = this.state.stories;\n        stories.push(newStories);\n        this.setState({stories});\n    }\n\n    deleteAllStories() {\n        localStorage.setItem('stories', '[]');\n        this.setState({stories:[]});\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <Modal className={\"modal\"} onHide={() => this.toggleAddStory()} show={this.state.showAddStory} full={true} autoFocus={true}>\n                    <AddStoryWindow address={this.state.clickedAddress} latlng={this.state.clickedLatLng} toggle={this.toggleAddStory.bind(this)}\n                                    onSubmitStory={this.onStorySubmitted.bind(this)}/>\n                </Modal>\n\n                {this.navigationBar()}\n\n                <Divider style={{backgroundColor:'#2D8FC7', margin:'0px', height: '5px'}}/>\n\n                <StoryToGoMap onStorySelected={this.onStorySelected.bind(this)}\n                              clickAwayStoryView={this.clickAwayStoryView.bind(this)}\n                              showMyLocation={this.state.goToMyLocation}\n                              stories={this.getFilteredStories()}\n                              toggleAddStory={(address, latlng) => this.addStory(address, latlng)}/>\n\n                <Options show={this.state.showOptions} close={this.toggleShowOptions.bind(this)} stories={this.state.stories}\n                        addStories={this.addStories.bind(this)} deleteAllStories={this.deleteAllStories.bind(this)}/>\n\n                <Modal show={this.showAbout} onHide={() => this.toggleAbout()} autoFocus={true} full>\n                    <AboutModal/>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}